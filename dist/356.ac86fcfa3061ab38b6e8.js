/*! For license information please see 356.ac86fcfa3061ab38b6e8.js.LICENSE.txt */
"use strict";(self.webpackChunktask_management_app=self.webpackChunktask_management_app||[]).push([[356],{232:(e,t,r)=>{r.d(t,{A:()=>a});const a=(0,r(9407).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},5356:(e,t,r)=>{r.r(t),r.d(t,{default:()=>p});var a=r(4848),n=r(7767),s=r(6610),i=r(2102),c=r(6420),o=r(5660),l=r(5498),d=r(232),u=r(8686),m=r(8188),f=r(3893);const p=function(){var e,t,r=(0,n.g)().id,p=(0,n.Zp)(),h=(0,s.r0)(r),y=h.data,v=h.isLoading,x=h.error;return v?(0,a.jsx)(o.A,{}):x||!y?(0,a.jsx)(l.Fc,{variant:"destructive",children:(0,a.jsx)(l.TN,{children:"Failed to load team details. Please try again later."})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)(i.$,{variant:"ghost",onClick:function(){return p("/teams")},children:[(0,a.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Back to Teams"]}),(0,a.jsx)("h1",{className:"text-3xl font-bold",children:y.name})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsx)("div",{className:"md:col-span-2",children:(0,a.jsxs)(c.Zp,{children:[(0,a.jsx)(c.aR,{children:(0,a.jsx)(c.ZB,{children:"Team Details"})}),(0,a.jsxs)(c.Wu,{children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-muted-foreground",children:"Description"}),(0,a.jsx)("p",{className:"mt-1",children:y.description||"No description provided."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-muted-foreground",children:"Team Leader"}),(0,a.jsxs)("p",{className:"mt-1 flex items-center",children:[(0,a.jsx)(u.A,{className:"h-4 w-4 mr-1"}),(null===(t=null===(e=y.members)||void 0===e?void 0:e.find((function(e){return e.id===y.leaderId})))||void 0===t?void 0:t.name)||"No leader assigned"]})]})]}),(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsxs)(i.$,{variant:"outline",onClick:function(){return p("/teams/".concat(y.id,"/edit"))},children:[(0,a.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"Edit Team"]})})]})]})}),(0,a.jsx)("div",{children:(0,a.jsxs)(c.Zp,{children:[(0,a.jsx)(c.aR,{children:(0,a.jsx)(c.ZB,{children:"Team Members"})}),(0,a.jsxs)(c.Wu,{children:[y.members&&y.members.length>0?(0,a.jsx)("div",{className:"space-y-4",children:y.members.map((function(e){var t;return(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"h-8 w-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center",children:(null===(t=e.name)||void 0===t?void 0:t.split(" ").map((function(e){return e[0]})).join("").toUpperCase())||"U"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:e.name}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:e.email})]})]},e.id)}))}):(0,a.jsxs)("div",{className:"text-center py-6",children:[(0,a.jsx)(f.A,{className:"h-8 w-8 mx-auto text-muted-foreground"}),(0,a.jsx)("p",{className:"mt-2",children:"No members in this team"})]}),(0,a.jsx)(i.$,{className:"w-full mt-4",onClick:function(){return p("/teams/".concat(y.id,"/members/add"))},children:"Add Member"})]})]})})]})]})}},6420:(e,t,r)=>{r.d(t,{BT:()=>u,Wu:()=>m,ZB:()=>d,Zp:()=>o,aR:()=>l,wL:()=>f});var a=r(4848),n=r(6540),s=r(9973),i=function(){return i=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},i.apply(this,arguments)},c=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]])}return r},o=n.forwardRef((function(e,t){var r=e.className,n=c(e,["className"]);return(0,a.jsx)("div",i({ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r)},n))}));o.displayName="Card";var l=n.forwardRef((function(e,t){var r=e.className,n=c(e,["className"]);return(0,a.jsx)("div",i({ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",r)},n))}));l.displayName="CardHeader";var d=n.forwardRef((function(e,t){var r=e.className,n=c(e,["className"]);return(0,a.jsx)("h3",i({ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",r)},n))}));d.displayName="CardTitle";var u=n.forwardRef((function(e,t){var r=e.className,n=c(e,["className"]);return(0,a.jsx)("p",i({ref:t,className:(0,s.cn)("text-sm text-muted-foreground",r)},n))}));u.displayName="CardDescription";var m=n.forwardRef((function(e,t){var r=e.className,n=c(e,["className"]);return(0,a.jsx)("div",i({ref:t,className:(0,s.cn)("p-6 pt-0",r)},n))}));m.displayName="CardContent";var f=n.forwardRef((function(e,t){var r=e.className,n=c(e,["className"]);return(0,a.jsx)("div",i({ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",r)},n))}));f.displayName="CardFooter"},6610:(e,t,r)=>{r.d(t,{cO:()=>d,gG:()=>o,r0:()=>l});var a=r(3958),n=function(e,t,r,a){return new(r||(r=Promise))((function(n,s){function i(e){try{o(a.next(e))}catch(e){s(e)}}function c(e){try{o(a.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,c)}o((a=a.apply(e,t||[])).next())}))},s=function(e,t){var r,a,n,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(o){return function(c){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(s=0)),s;)try{if(r=1,a&&(n=2&c[0]?a.return:c[0]?a.throw||((n=a.return)&&n.call(a),0):a.next)&&!(n=n.call(a,c[1])).done)return n;switch(a=0,n&&(c=[2&c[0],n.value]),c[0]){case 0:case 1:n=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,a=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(!((n=(n=s.trys).length>0&&n[n.length-1])||6!==c[0]&&2!==c[0])){s=0;continue}if(3===c[0]&&(!n||c[1]>n[0]&&c[1]<n[3])){s.label=c[1];break}if(6===c[0]&&s.label<n[1]){s.label=n[1],n=c;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(c);break}n[2]&&s.ops.pop(),s.trys.pop();continue}c=t.call(e,s)}catch(e){c=[6,e],a=0}finally{r=n=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,o])}}},i=function(e,t,r){if(r||2===arguments.length)for(var a,n=0,s=t.length;n<s;n++)!a&&n in t||(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))},c=a.q.injectEndpoints({endpoints:function(e){return{getTeams:e.query({query:function(e){void 0===e&&(e={});var t=new URLSearchParams;return e&&Object.entries(e).forEach((function(e){var r=e[0],a=e[1];void 0!==a&&t.append(r,String(a))})),"/teams?".concat(t.toString())},onQueryStarted:function(e,t){return n(this,arguments,void 0,(function(e,t){var r,n,i,c=t.queryFulfilled;return s(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,c];case 1:return r=t.sent().data,n=new URLSearchParams(e).toString(),(0,a.E)("/teams?".concat(n),r),[3,3];case 2:return i=t.sent(),console.error("Failed to fetch teams:",i),[3,3];case 3:return[2]}}))}))},providesTags:function(e){return e?i(i([],e.teams.map((function(e){return{type:"Team",id:e.id}})),!0),[{type:"Team",id:"LIST"}],!1):[{type:"Team",id:"LIST"}]}}),getTeamById:e.query({query:function(e){return"/teams/".concat(e)},onQueryStarted:function(e,t){return n(this,arguments,void 0,(function(e,t){var r,n,i=t.queryFulfilled;return s(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,i];case 1:return r=t.sent().data,(0,a.E)("/teams/".concat(e),r),[3,3];case 2:return n=t.sent(),console.error("Failed to fetch team ".concat(e,":"),n),[3,3];case 3:return[2]}}))}))},providesTags:function(e,t,r){return[{type:"Team",id:r}]}}),createTeam:e.mutation({query:function(e){return{url:"/teams",method:"POST",body:e}},invalidatesTags:[{type:"Team",id:"LIST"}]}),updateTeam:e.mutation({query:function(e){var t=e.id,r=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]])}return r}(e,["id"]);return{url:"/teams/".concat(t),method:"PATCH",body:r}},invalidatesTags:function(e,t,r){return[{type:"Team",id:r.id},{type:"Team",id:"LIST"}]}}),deleteTeam:e.mutation({query:function(e){return{url:"/teams/".concat(e),method:"DELETE"}},invalidatesTags:function(e,t,r){return[{type:"Team",id:r},{type:"Team",id:"LIST"}]}}),addMemberToTeam:e.mutation({query:function(e){var t=e.teamId,r=e.userId;return{url:"/teams/".concat(t,"/members"),method:"POST",body:{userId:r}}},invalidatesTags:function(e,t,r){return[{type:"Team",id:r.teamId}]}}),removeMemberFromTeam:e.mutation({query:function(e){var t=e.teamId,r=e.userId;return{url:"/teams/".concat(t,"/members/").concat(r),method:"DELETE"}},invalidatesTags:function(e,t,r){return[{type:"Team",id:r.teamId}]}})}}}),o=c.useGetTeamsQuery,l=c.useGetTeamByIdQuery,d=c.useCreateTeamMutation;c.useUpdateTeamMutation,c.useDeleteTeamMutation,c.useAddMemberToTeamMutation,c.useRemoveMemberFromTeamMutation},8188:(e,t,r)=>{r.d(t,{A:()=>a});const a=(0,r(9407).A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])}}]);
//# sourceMappingURL=356.ac86fcfa3061ab38b6e8.js.map